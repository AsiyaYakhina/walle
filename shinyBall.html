

<!-- 
Kelsey Reiman
11/1/14 
CS 307
heartCurve.html

Creates a cubic bezier curve that is the shape of half a heart

I learned how to make bezier curves in three.js from: 
http://www.lab4games.net/zz85/blog/2014/09/08/rendering-lines-and-bezier-curves-in-three-js-and-webgl/
 -->
<html>
  <head>
    <title>Heart Curve</title>
    <style>      
      canvas {
          display: block;
          margin: 10px auto;
          width: 80%;
          height: 750px;
      }
    </style>
    <script src="http://cs.wellesley.edu/~cs307/threejs/libs/three.min.js"></script>
    <script src="http://cs.wellesley.edu/~cs307/threejs/libs/OrbitControls.js"></script>
    <script src="http://cs.wellesley.edu/~cs307/threejs/libs/tw.js"></script>
    <script src="http://cs.wellesley.edu/~cs307/threejs/libs/dat.gui.min.js"></script>
    <script src="http://cs.wellesley.edu/~cs307/threejs/dirksen/libs/spin.js"></script>
    <script src="http://cs.wellesley.edu/~cs307/threejs/dirksen/libs/ThreeBSP.js"></script>
    <script src="marble.js"></script>
    <script src="materials.js"></script>


  </head>
<body>

<script id="prog">

var renderer = new THREE.WebGLRenderer();
var scene = new THREE.Scene(); 
TW.mainInit(renderer,scene);

var state = TW.cameraSetup(renderer,
             scene,
             {minx: -5,
              maxx: 5,
            miny: -5, maxy: 5,
            minz: -5,
              maxz: 5});  


 



function render() {

 renderer.render( scene, state.cameraObject ); //re-render the scene using the TW camera

}

var textureWheel = new THREE.ImageUtils.loadTexture("wheel.jpg", 
    new THREE.UVMapping(),
    function () {
      console.log("eyeTexture is loaded.");
      imageLoaded = true;
      TW.render();
    });



  textureWheel.wrapS = textureWheel.wrapT = THREE.MirroredRepeatWrapping;
   textureWheel.repeat.set( 2, 2);
  // textureWheel.offset.set( 0.8, 0.9 );


  var wheelMaterial = new THREE.MeshPhongMaterial(
    { color: 0x898989,
      specular:0xFFFFFF,
      shininess: 0,
      map: textureWheel,
      side: THREE.DoubleSide,
      castShadow: true
    });

function createWheel () {

var wheel = new THREE.Object3D();
  var surfPoints1 = [[ [ -2,7,0],  [-2,7,2], [-2,4,7], [-2,2,7] ],
                      [ [-1,7,0], [-1,7,2],  [-1,4,7], [-1,2,7] ],
                      [ [0,7,0], [0,7,2],  [0,4,7],  [0,2,7] ],
                      [ [2,7,0],  [2,7,2],  [2,4,7],  [2,2,7] ] ];



  var surfPoints2 = [ [ [-2,2,7],  [-2,0,7], [-2,0,-7], [-2,2,-7] ],
                    [ [-1,2,7], [-1,0,7],  [-1,0,-7], [-1,2,-7] ],
                    [ [0,2,7], [0,0,7],  [0,0,-7],  [0,2,-7] ],
                    [ [2,2,7],  [2,0,7],  [2,0,-7],  [2,2,-7] ] ];



   var surfGeom1 = new THREE.BezierSurfaceGeometry( surfPoints1.reverse(), 60, 60 );
  var surfGeom2 = new THREE.BezierSurfaceGeometry(surfPoints2.reverse(), 60,60);
  
  var eyeCov1 = new THREE.SceneUtils.createMultiMaterialObject(surfGeom1, [wheelMaterial]);

   var eyeCov2 = new THREE.SceneUtils.createMultiMaterialObject(surfGeom2, [wheelMaterial]);

var curve3 = eyeCov1.clone();
curve3.rotation.y= Math.PI;
wheel.add(eyeCov1);
wheel.add(eyeCov2);
wheel.add(curve3);

return wheel;
}

var wheel = createWheel();
scene.add(wheel);

var ambLight = new THREE.AmbientLight(0xFFFFFF); // soft white light 
ambLight.name = "ambient";

scene.add( ambLight );



// create directional light

var dirlight = new THREE.DirectionalLight( 0xFFFFFF );

dirlight.position.set(5,5,8);

ambLight.name = "directional";

scene.add(dirlight);



TW.viewFromFront();        
</script>
</body>
</html>
